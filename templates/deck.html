<html>
    <head>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script type=text/javascript>
            $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
          </script>
    </head>

    <body>
        <table>
            <tr>
                <th>Number of Cards</th>
                <th>Card Name</th>
                <th>Cost</th>
            </tr>
            {% for key, value in result.items() %}
               <tr>
                    <td> {{ value }} </th>
                    <td> {{ key }} </td>
                    <td><a href=# id="{{ key }}" class=test>X</a></td>>
               </tr>
            {% endfor %}
        </table>

        <script type=text/javascript>
            x = null
            $(function() {
                $('a.test').bind('click', function() {
                    x = $(this)
                    $.getJSON($SCRIPT_ROOT + '/price_card', {
                        card_name: x.attr('id')
                    }, function(data) {
                console.log(data);
                x.text(data);
                });
                return false;
            });
        });
        </script>
        <h1>jQuery Example</h1>
        <p><input type=text size=5 name=a> +
            <input type=text size=5 name=b> =
            <span id=result>?</span>
        <p><a href=# id=calculate>calculate server side</a>
    </body>
</html>